# üíé UnionPB v3.8 Lux ‚Äî Distributed Graphics Engine

**UnionPB (Union Pixel Battle)** ‚Äî —ç—Ç–æ –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–∞—è —Å—Ä–µ–¥–∞ –¥–ª—è –∫–æ–ª–ª–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –Ω–∞ –±–∞–∑–µ Telegram API. –°–±–æ—Ä–∫–∞ **v3.8 Lux** —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–∞ –Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç–∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤, –ø—Ä–µ—Ü–∏–∑–∏–æ–Ω–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏ –∏ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è.

---

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
* **Language:** Python 3.11+
* **Framework:** `aiogram 3.x` (Asynchronous I/O)
* **Image Core:** `Pillow` (High-performance imaging library)
* **Deployment:** Optimized for `Render.com`
* **Architecture:** Stateless server with persistence layer via Telegram Data Objects

## üìê –ò–Ω–∂–µ–Ω–µ—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
–í –æ—Ç–ª–∏—á–∏–µ –æ—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, **UnionPB v3.8 Lux** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–ª–∞—Å—Å–∏—á–µ—Å–∫—É—é –¥–µ–∫–∞—Ä—Ç–æ–≤—É —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, —á—Ç–æ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º –¥–ª—è –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤:
* **–¢–æ—á–∫–∞ –æ—Ç—Å—á–µ—Ç–∞ (0,0):** –ù–∏–∂–Ω–∏–π –ª–µ–≤—ã–π —É–≥–æ–ª —Ö–æ–ª—Å—Ç–∞.
* **–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è:** –ò–Ω–≤–µ—Ä—Å–∏—è –æ—Å–∏ Y –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ —è–¥—Ä–∞ –¥–≤–∏–∂–∫–∞ –ø–æ —Ñ–æ—Ä–º—É–ª–µ:
  $$Y_{internal} = 1023 - Y_{user}$$
* **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:** –•–æ–ª—Å—Ç $1024 \times 1024$ (1,048,576 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–∏–∫—Å–µ–ª–µ–π) –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ —Å —Ñ–æ–Ω–æ–≤–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π.

## üíæ –°–∏—Å—Ç–µ–º–∞ –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏ (Persistence)
–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –∫–æ–Ω—Ü–µ–ø—Ü–∏—é **"Cloud-as-a-Storage"**, –ø–æ–∑–≤–æ–ª—è—è –º–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã –Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö:
1. –ü—Ä–∏ –∫–∞–∂–¥–æ–º –∑–Ω–∞—á–∏–º–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ (–ª–∏–Ω–∏–∏, –∑–∞–ª–∏–≤–∫–∏, –∑—É–º) –¥–≤–∏–∂–æ–∫ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ñ–æ–Ω–æ–≤—É—é –∑–∞–¥–∞—á—É (`asyncio.task`) –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞.
2. –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö–æ–ª—Å—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ `.png` –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ.
3. –ü—Ä–∏ —Ö–æ–ª–æ–¥–Ω–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—è `load_last_canvas` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–∫–æ–Ω—Å—Ç—Ä—É–∏—Ä—É–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ö–æ–ª—Å—Ç–∞ –∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –≤ –∫–∞–Ω–∞–ª–µ.

## üõ∞ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞—Ä–∏–π (API –ö–æ–º–∞–Ω–¥)

| –ö–æ–º–∞–Ω–¥–∞ | –§—É–Ω–∫—Ü–∏—è | –°–∏–Ω—Ç–∞–∫—Å–∏—Å |
| :--- | :--- | :--- |
| `/add` | –ü—Ä–µ—Ü–∏–∑–∏–æ–Ω–Ω–æ–µ –Ω–∞–Ω–µ—Å–µ–Ω–∏–µ –ø–∏–∫—Å–µ–ª—è | `color x y` |
| `/line` | –ê–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–∞—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ—Ç—Ä–µ–∑–∫–∞ | `color x1 y1 x2 y2` |
| `/circle` | –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –æ–∫—Ä—É–∂–Ω–æ—Å—Ç–∏ (—ç–ª–ª–∏–ø—Å–∞) | `color x y r` |
| `/fill` | –ú–∞—Å—Å–æ–≤–∞—è –∑–∞–ª–∏–≤–∫–∞ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏ | `color x1 y1 x2 y2` |
| `/zoom` | –û–ø—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å–µ–∫—Ç–æ—Ä–∞ (Nearest Neighbor) | `x y` |
| `/view` | –ü–æ–ª–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è | ‚Äî |

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ (Deployment)
1. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: 
` bash pip install -r requirements. `
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ —Ç—É–¥–∞ —Å–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ:

```env
BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–±–æ—Ç–∞
CHANNEL_ID=-100xxxxxxxxxx
PORT=10000 

